{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nlet input=\"\";\ndocument.getElementById(\"search-images\").addEventListener(\"input\",(event)=>{\n    input = event.target.value;\n    console.log(input);\n        // Eğer arama kutusu boşsa butonu devre dışı bırak\n        if (input === \"\") {\n          document.getElementById(\"button-search\").setAttribute(\"disabled\", true);\n      } else {\n        document.getElementById(\"button-search\").removeAttribute(\"disabled\"); // Butonu etkinleştir\n      }\n});\n\ndocument.getElementById(\"button-search\").addEventListener(\"click\",()=>{\n    if (input.trim() !== \"\")\n    fetchImages(input);\n\n})\ninput=\"\";\nasync function fetchImages(query) {\n    const API_KEY=\"46148629-af6e53c51d7dfe0604412e9db\";\n    const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&per_page=20`;\n    try{\n        const response = await fetch(URL);\n        if (!response.ok) {\n            throw new Error(`HTTP error ${response.status}`);\n        }\n        const data = await response.json();\n        //bos bir dizi donduyse bu mesaji kullaniciya göstericem\n        if(data.totalHits===0){\n            iziToast.show({\n                title: 'No Images',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight', // Bildirimin konumu\n                timeout: 5000, // 5 saniye sonra otomatik kapanır\n                color: 'warning', // Bildirim rengi (success, warning, info, error)\n            });\n            return;\n        }\n        displayImages(data.hits);\n    }   \n    catch(e){\n        console.log(\"Photos can't taken\");\n        iziToast.error({\n            title: 'Error',\n            message: e.message,\n            position: 'topRight'\n        });\n    }\n}\n\n\n function createListElement(images){\n\n    for (const image of images) {\n      const { preview, original, description } = image;\n\n\n    const galleryUL = document.querySelector(\"ul.gallery\");\n    const createdA = document.createElement(\"a\");\n    createdA.classList.add(\"gallery-link\");\n    createdA.setAttribute(\"onclick\",\"return false\");\n    createdA.href = original;\n\n    const createdImg = document.createElement(\"img\");\n    createdImg.classList.add(\"gallery-image\");\n    createdImg.src= preview;\n    createdImg.dataset.source= original;\n    createdImg.alt = description;\n\n    createdA.appendChild(createdImg);\n\n    const createdLi = document.createElement(\"li\");\n    createdLi.classList.add(\"gallery-item\");\n\n    createdLi.appendChild(createdA);\n    galleryUL.appendChild(createdLi);\n    \n    }\n}\nfunction displayImages(images){\n    const imagediv = document.getElementById(\"image-results\");\n    const galleryUl = document.getElementById(\"gallery\");\n\n    imagediv.innerHTML=\"\";\n    images.forEach(image => {\n\n\n        const img = document.createElement(\"img\");\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        const link=document.createElement(\"a\");\n        link.classList.add(\"link-a\");\n        link.href = image.largeImageURL;\n        link.setAttribute(\"data-lightbox\", \"gallery\"); // SimpleLightbox için gerekli\n        link.appendChild(img);\n\n                // Bilgileri içeren div oluştur\n        const imgList = document.createElement(\"li\");\n        imgList.classList.add(\"image-list\");\n        imgList.appendChild(link);\n\n        const infoDiv = document.createElement(\"div\");\n        infoDiv.classList.add(\"image-info\");\n\n        const likes = document.createElement(\"p\");\n        likes.textContent=`Likes:${image.likes}`;\n\n        const views = document.createElement(\"p\");\n        views.textContent=`Views:${image.views}`;\n\n        const comments = document.createElement(\"p\");\n        comments.textContent=`Comments:${image.comments}`;\n\n        const download = document.createElement(\"p\");\n        download.textContent=`Downloads:${image.downloads}`;\n\n        infoDiv.appendChild(likes);\n        infoDiv.appendChild(views);\n        infoDiv.appendChild(comments);\n        infoDiv.appendChild(download);\n\n        imgList.appendChild(infoDiv);\n\n        galleryUl.appendChild(imgList);\n        document.body.appendChild(galleryUl);\n\n\n    });\n \n\n    new SimpleLightbox('#gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250\n      });\n\n\n}\n\nwindow.onload = clickTheElements;\n\nexport function clickTheElements(){\n    const imagesDom = document.querySelectorAll('.link-a');\n    let currentLightBox = null; \n    let currentIndex = 0;\nconsole.log(\"tıklandı resme\");\n  imagesDom.forEach((link,index) => \n  {\n      link.addEventListener('click', (event) => {\n        event.preventDefault();\n        currentIndex=index;\n        console.log( \"tıkladım\")\n        if (event.target.nodeName !== \"IMG\") {\n          return; // kullanıcı fotografların arasına tıkladı\n        }\n        const selectedImageSrc = link.getAttribute('href');\n        const selectedImageAlt = link.querySelector('img').alt;\n\n  // asagidaki galeriyi sadece boyutunu almak icin dom secimi yapıyorum.\n        const ulElement = document.querySelector(\"ul.gallery\");\n        let ulWidth = ulElement.offsetWidth;\n        let ulHeight = ulElement.offsetHeight;\n  \n          const modal = new SimpleLightbox(\n            {\n              items: [\n                {\n                    src: selectedImageSrc,\n                    alt: selectedImageAlt,\n                },\n                ...Array.from(imagesDom).map(img => ({\n                    src: img.getAttribute('href'),\n                    alt: img.querySelector('img').alt,\n                }))\n            ],\n            captionsData: `${selectedImageAlt}`, // Açıklama için title özniteliğini kullan\n            captionDelay: 250\n          });\n          modal.showModal();\n          currentLightBox = modal;\n                      // Modal içeriğini güncelle\n                      modal.on('show.simplelightbox', () => {\n                        modal.select(currentIndex);\n                    });\n          const prevBtn = modal.element().querySelector('#prev');\n          const nextBtn = modal.element().querySelector('#next');\n\n          prevBtn.addEventListener(\"click\", () => {\n            currentIndex = (currentIndex > 0) ? currentIndex - 1 : imagesDom.length - 1;\n            updateModal(modal, imagesDom[currentIndex]);\n\n            const newSrc = imagesDom[currentIndex].querySelector('img').dataset.source; // Doğru kaynak\n            const newAlt = imagesDom[currentIndex].querySelector('img').alt; // Alt metni al\n            modal.element().querySelector('img').src = newSrc;\n            modal.element().querySelector('img').alt = newAlt;\n          });\n      \n          nextBtn.addEventListener(\"click\", () => {\n            currentIndex = (currentIndex < imagesDom.length - 1) ? currentIndex + 1 : 0;\n            updateModal(modal, imagesDom[currentIndex]);\n\n            const newSrc = imagesDom[currentIndex].querySelector('img').dataset.source; // Doğru kaynak\n            const newAlt = imagesDom[currentIndex].querySelector('img').alt; // Alt metni al\n            modal.element().querySelector('img').src = newSrc;\n            modal.element().querySelector('img').alt = newAlt;\n          });\n  \n          \n      const onKeyDownEsc = (event)=>{\n        if((event.key === \"Escape\" || event.key === \"Esc\") && currentLightBox){\n        currentLightBox.close();\n        document.removeEventListener(\"keydown\",onKeyDownEsc);\n        currentLightBox = null;\n      }\n  \n    }\n\n    document.addEventListener(\"keydown\",onKeyDownEsc);\n    \n      });\n  });\n\n}"],"names":["input","event","fetchImages","query","URL","response","data","iziToast","displayImages","e","images","imagediv","galleryUl","image","img","link","imgList","infoDiv","likes","views","comments","download","SimpleLightbox","clickTheElements","imagesDom","currentLightBox","currentIndex","index","selectedImageSrc","selectedImageAlt","ulElement","modal","prevBtn","nextBtn","newSrc","newAlt","onKeyDownEsc"],"mappings":"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"}